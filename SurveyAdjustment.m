% 某GPS网如下。对其进行间接平差:
% n = 72 t = 42, r = 30

X = zeros(14,3); % 定义点坐标数组
% 已知点：
X(1,:) = [100000 200000 20]; % P1
% 观测基线向量信息： table gps1
% 待定参数：
pX = zeros(39,1);
% 待定参数近似坐标信息：
pX(1,1) = X(1,1) + gps1(2,1); % P2
pX(2,1) = X(1,2) + gps1(2,2); % P2
pX(3,1) = X(1,3) + gps1(2,3); % P2
pX(4,1) = pX(1,1) + gps1(5,1); % P3
pX(5,1) = pX(2,1) + gps1(5,2); % P3
pX(6,1) = pX(3,1) + gps1(5,3); % P3
pX(7,1) = X(1,1) - gps1(1,1); % P4
pX(8,1) = X(1,2) - gps1(1,2); % P4
pX(9,1) = X(1,3) - gps1(1,3); % P4
pX(10,1) = pX(1,1) + gps1(3,1); % P5
pX(11,1) = pX(2,1) + gps1(3,2); % P5
pX(12,1) = pX(3,1) + gps1(3,3); % P5
pX(13,1) = pX(1,1) + gps1(4,1); % P6
pX(14,1) = pX(2,1) + gps1(4,2); % P6
pX(15,1) = pX(3,1) + gps1(4,3); % P6
pX(16,1) = pX(4,1) + gps1(7,1); % P7
pX(17,1) = pX(5,1) + gps1(7,2); % P7
pX(18,1) = pX(6,1) + gps1(7,3); % P7
pX(19,1) = pX(7,1) - gps1(8,1); % P8
pX(20,1) = pX(8,1) - gps1(8,2); % P8
pX(21,1) = pX(9,1) - gps1(8,3); % P8
pX(22,1) = pX(10,1) + gps1(10,1); % P9
pX(23,1) = pX(11,1) + gps1(10,2); % P9
pX(24,1) = pX(12,1) + gps1(10,3); % P9
pX(25,1) = pX(22,1) + gps1(20,1); % P10
pX(26,1) = pX(23,1) + gps1(20,2); % P10
pX(27,1) = pX(24,1) + gps1(20,3); % P10
pX(28,1) = pX(13,1) + gps1(13,1); % P11
pX(29,1) = pX(14,1) + gps1(13,2); % P11
pX(30,1) = pX(15,1) + gps1(13,3); % P11
pX(31,1) = pX(22,1) + gps1(18,1); % P12
pX(32,1) = pX(23,1) + gps1(18,2); % P12
pX(33,1) = pX(24,1) + gps1(18,3); % P12
pX(34,1) = pX(31,1) - gps1(23,1); % P13
pX(35,1) = pX(32,1) - gps1(23,2); % P13
pX(36,1) = pX(33,1) - gps1(23,3); % P13
pX(37,1) = pX(25,1) + gps1(21,1); % P14
pX(38,1) = pX(26,1) + gps1(21,2); % P14
pX(39,1) = pX(27,1) + gps1(21,3); % P14

% 误差方程
% V = BX - L
B = zero(72, 39);
B(1,7) = -1;B(2,8) = -1;B(3,9) = -1;
B(4,1) = 1;B(5,2) = 1;B(6,3) = 1;
B(7,1) = -1;B(8,2) = -1;B(9,3) = -1;B(7,10) = 1;B(8,11) = 1;B(9,12) = 1;
B(10,1) = -1;B(11,2) = -1;B(12,3) = -1;B(10,1) = 1;B(11,2) = 1;B(12,3) = 1;
for i = 1:24
    if gps2(i,1) = (1;)

